<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cockney Rhyming Slang Quiz</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    background: #f4f4f5; display: flex; justify-content: center;
    align-items: center; min-height: 100vh;
  }
  .card {
    background: #fff; border-radius: 12px; padding: 36px;
    box-shadow: 0 2px 16px rgba(0,0,0,.08); max-width: 520px; width: 92%;
  }
  h1 { font-size: 1.5rem; margin-bottom: 6px; }
  .subtitle { color: #555; margin-bottom: 24px; font-size: .95rem; }
  .progress { font-size: .8rem; color: #999; margin-bottom: 14px; }
  .question { font-size: 1.1rem; margin-bottom: 18px; line-height: 1.5; }
  .hint { font-size: .78rem; color: #aaa; margin-bottom: 14px; }
  .options { display: flex; flex-direction: column; gap: 10px; margin-bottom: 24px; }
  .opt {
    padding: 12px 16px; border: 2px solid #e0e0e0; border-radius: 8px;
    background: #fff; font-size: .95rem; cursor: pointer; text-align: left;
  }
  .opt:hover, .opt:focus-visible { border-color: #999; outline: none; }
  .opt.selected { border-color: #4f46e5; background: #eef2ff; font-weight: 600; }
  .opt.correct { border-color: #16a34a; background: #dcfce7; }
  .opt.wrong { border-color: #dc2626; background: #fee2e2; }
  .feedback {
    text-align: center; font-weight: 700; font-size: 1.05rem;
    padding: 14px 0 4px; min-height: 40px;
  }
  .feedback.is-correct { color: #16a34a; }
  .feedback.is-wrong { color: #dc2626; }
  .btn {
    padding: 10px 24px; border: none; border-radius: 8px;
    font-size: .9rem; font-weight: 600; cursor: pointer;
    background: #4f46e5; color: #fff;
  }
  .btn:focus-visible { outline: 3px solid #818cf8; outline-offset: 2px; }
  .btn:disabled { opacity: .35; cursor: default; }
  .center { text-align: center; }
  .score { font-size: 2.8rem; font-weight: 700; color: #4f46e5; margin: 20px 0 8px; }
  .verdict { color: #555; margin-bottom: 24px; font-size: 1rem; }
</style>
</head>
<body>
<div class="card" id="app" role="main"></div>
<script>
const questions = [
  { question: "What does 'dog and bone' mean?", options: ["Moan", "Phone", "Alone"], correctIndex: 1 },
  { question: "What are 'plates of meat'?", options: ["Feet", "Seats", "Sweets"], correctIndex: 0 },
  { question: "What does 'trouble and strife' refer to?", options: ["Knife", "Life", "Wife"], correctIndex: 2 },
  { question: "What are 'mince pies'?", options: ["Ties", "Lies", "Eyes"], correctIndex: 2 },
  { question: "Where do you go up the 'apples and pears'?", options: ["Stairs", "Fairs", "Prayers"], correctIndex: 0 },
  { question: "What is a 'porky pie'?", options: ["A lie", "A tie", "A cry"], correctIndex: 0 },
  { question: "What does 'Adam and Eve' mean?", options: ["Leave", "Grieve", "Believe"], correctIndex: 2 },
  { question: "What are 'bees and honey'?", options: ["Tummy", "Money", "Honey"], correctIndex: 1 },
  { question: "What does 'butcher's hook' mean?", options: ["A cook", "A look", "A book"], correctIndex: 1 },
  { question: "What is someone who's 'Brahms and Liszt'?", options: ["Missed", "Kissed", "Drunk"], correctIndex: 2 },
];

let current = 0;
let lastResult = null;
const selected = Array(questions.length).fill(-1);
const app = document.getElementById("app");

function showStart() {
  lastResult = null;
  app.innerHTML = `
    <div class="center">
      <h1>Cockney Rhyming Slang Quiz</h1>
      <p class="subtitle">Pick the meaning of each phrase</p>
      <button class="btn" id="start">Start Quiz</button>
    </div>`;
  document.getElementById("start").addEventListener("click", () => { current = 0; showQuestion(); });
}

function showQuestion() {
  const q = questions[current];
  const feedbackHTML = lastResult !== null
    ? `<div class="feedback ${lastResult ? "is-correct" : "is-wrong"}">${lastResult ? "Correct!" : "Wrong!"}</div>`
    : "";
  app.innerHTML = `
    ${feedbackHTML}
    <div class="progress">Question ${current + 1} of ${questions.length}</div>
    <h1>Cockney Rhyming Slang Quiz</h1>
    <div class="question">${q.question}</div>
    <div class="hint">Click an answer, then click Next</div>
    <div class="options" role="radiogroup">
      ${q.options.map((o, i) =>
        `<button class="opt${selected[current] === i ? " selected" : ""}" role="radio"
          aria-checked="${selected[current] === i}" data-i="${i}">${o}</button>`
      ).join("")}
    </div>
    <div class="center">
      <button class="btn" id="next" ${selected[current] === -1 ? "disabled" : ""}>
        ${current === questions.length - 1 ? "See Results" : "Next"}
      </button>
    </div>`;
  if (lastResult !== null) setTimeout(() => {
    const fb = app.querySelector(".feedback");
    if (fb) fb.style.display = "none";
  }, 1200);
  lastResult = null;
  app.querySelectorAll(".opt").forEach(btn =>
    btn.addEventListener("click", () => { selected[current] = +btn.dataset.i; showQuestion(); })
  );
  document.getElementById("next").addEventListener("click", handleNext);
}

function handleNext() {
  const wasCorrect = selected[current] === questions[current].correctIndex;
  app.querySelectorAll(".opt").forEach(btn => {
    const i = +btn.dataset.i;
    if (i === questions[current].correctIndex) btn.classList.add("correct");
    else if (i === selected[current]) btn.classList.add("wrong");
    btn.disabled = true;
  });
  document.getElementById("next").disabled = true;
  setTimeout(() => {
    lastResult = wasCorrect;
    current++;
    current < questions.length ? showQuestion() : showResults();
  }, 800);
}

function showResults() {
  const score = selected.reduce((s, a, i) => s + (a === questions[i].correctIndex ? 1 : 0), 0);
  const msg = score >= 9 ? "Proper Cockney!" : score >= 6 ? "Not bad, mate!" : "Back to the East End with ya!";
  app.innerHTML = `
    <div class="center">
      <h1>Cockney Rhyming Slang Quiz</h1>
      <p class="subtitle">Pick the meaning of each phrase</p>
      <div class="score">${score} / ${questions.length}</div>
      <div class="verdict">${msg}</div>
      <button class="btn" id="restart">Restart</button>
    </div>`;
  document.getElementById("restart").addEventListener("click", () => { selected.fill(-1); showStart(); });
}

showStart();
</script>
</body>
</html>
